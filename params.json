{"name":"n-odata-server","tagline":"Node.js OData Server for loopback.io framework","body":"# n-odata-server, The node OData server for the loopback framework\r\n\r\nThis project has been started to develop an [OData](http://www.odata.org/) server for node.js.\r\nThere are already some solutions at npm. These did not fulfill our requirements which are\r\n\r\n* Support for several backend systems (databases)\r\n* Support for local file system database (light weight)\r\n* Support for nearly the complete OData API\r\n\r\n## Current state of the project\r\n__Even though we are working hard we need some more time to have a version that\r\nsupports most of the OData specification.\r\nPlease stay tuned or contribute to the project if you want quicker results.__\r\n\r\nIf you want to contribute send us an email to [`h.tammen@tammen-it-solutions.de`](mailto:h.tammen@tammen-it-solutions.de).\r\nWe are collaborating via a [Slack Team](https://slack.com/) and will invite you to this as soon as we receive a request for contribution.\r\nWe manage our tasks via [Trello](https://trello.com). We will also authorize you to our Trello board if you want to contribute to the project.\r\n\r\nWe have currently implemented some very basic OData functionality (see below) that allows you to use some basic CRUD operations on your data. We try to implement some more useful functionality soon.\r\n\r\n### Release Notes\r\nTo see what's implemented yet have a look at our [release notes](https://github.com/htammen/n-odata-server/wiki/Release%20Notes)\r\n\r\n## Background\r\n\r\n### OData\r\nOData is a protocol for standardized access to [RESTful](https://en.wikipedia.org/wiki/Representational_state_transfer) webservices. It initially\r\nwas developed by Microsoft as Open Source project. Not very much later SAP jumped onto the train. At the moment primarily Microsoft and SAP work on the [specification](https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=odata) under the hood of OASIS.\r\nSince it's early days in 2009 a lot of other companies have committed their strategy to OData or at least support OData.\r\nTo name a few there are IBM, Salesforce, Red Hat, CA, Citrix.\r\nIf you are totally new to OData this [presentation](http://de.slideshare.net/metadaddy/odata-a-standard-api-for-data-access)\r\nmight give you a quick inside into it.\r\n\r\n#### OData versions\r\nIn the meantime the current version of Odata is 4.0. We will try to support this version. But\r\nbecause we primarily are interested in using our server with the frontend framework SAPUI5/OpenUI5 which still works\r\non V2 we will support version 2.0 at first.\r\n\r\n#### OData formats\r\nThe OData specification suggests to support [Atom](http://docs.oasis-open.org/odata/odata-atom-format/v4.0/odata-atom-format-v4.0.html)\r\nas well as [JSON](http://docs.oasis-open.org/odata/odata-json-format/v4.0/odata-json-format-v4.0.html).\r\nOne of these formats must be supported. We will __probably only support the JSON format__ as it is much more lightweight and\r\ntherefore easier to implement.\r\n\r\n### Loopback\r\nThis project relies on and requires [Loopback](http://loopback.io/) a very mature node.js framework for\r\ndevelopment of database independent node.js web applications. Our project extends this framework\r\nwith the ability to expose it's data via OData. Loopback already exposes the data via a proprietary RESTful API. If you are fine with this just use it.\r\nBut if you want to base your projects on standards use OData and our loopback add-on.\r\n\r\n## Usage\r\n### Prerequisites\r\nThis component is not usable out of the box. You already need to have a loopback application. You can thent add this\r\ncomponent to the existing application. Look [here](http://loopback.io/getting-started/) for details on installing and\r\ncreating a loopback application.\r\n\r\n### Installation\r\nInstall the component like any other node package with npm\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`npm install n-odata-server --save`\r\n\r\n### Activation\r\nTo use this loopback component you have to activate it in the file\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`server/component-config.json`\r\n\r\nof your project. Add the following lines to this file\r\n\r\n```\r\n  \"n-odata-server\": {\r\n    \"path\": \"/odata/*\",\r\n    \"odataversion\": \"2\"\r\n  }\r\n```\r\nIf you are not happy with the prefix `odata` you can of course use another one. Just exchange `odata` with you prefix\r\ne.g. `myservice`. Then your requests to the odata service have to start with `/myservice/`.\r\nThe line `\"odataversion\": \"2\"` means that the server works with OData V2. We highly recommend to use this version at the\r\nmoment.\r\n\r\n### Firing OData requests\r\nTo fire your OData request simply start your server application with\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`node .`\r\n\r\ngo to your browser and enter\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`http://0.0.0.0:3000/odata/`\r\n\r\nThis will return the OData service document from which you can see which collections / entitysets are available in\r\nyour OData server.\r\n\r\n```\r\n{\r\n  \"@odata.context\": \"http://0.0.0.0:3000/odata/$metadata\",\r\n  \"value\": [\r\n    {\r\n      \"name\": \"people\",\r\n      \"url\": \"people\"\r\n    }\r\n  ]\r\n}\r\n```\r\nIn my case there is `people` entityset. When firing the URL\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`http://0.0.0.0:3000/odata/people`\r\n\r\nI get the data for this collection\r\n\r\n```\r\n{\r\n  \"value\": [\r\n    {\r\n      \"firstname\": \"Helmut\",\r\n      \"lastname\": \"Tammen\",\r\n      \"id\": 2\r\n    },\r\n    {\r\n      \"firstname\": \"Franz\",\r\n      \"lastname\": \"Frosch\",\r\n      \"gender\": \"male\",\r\n      \"age\": 65,\r\n      \"id\": 3\r\n    },\r\n    {\r\n      \"firstname\": \"Mary\",\r\n      \"lastname\": \"Friday\",\r\n      \"gender\": \"female\",\r\n      \"age\": 10,\r\n      \"id\": 4\r\n    },\r\n    {\r\n      \"firstname\": \"Johannes\",\r\n      \"lastname\": \"Hamel\",\r\n      \"id\": 8\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Supported requests\r\nCurrently basic requests for the following http verbs are supported\r\n\r\n* `GET`: Get all records of an entityset or a single record\r\n* `POST`: Create a new entry in your database\r\n* `DELETE`: Delete an entry from your database\r\n* `PATCH`: Update an entry in your database\r\n* `MERGE`: Update an entry in your database (to be OData V2.0 compatible)\r\n* `PUT`: Update an entry in your database\r\n\r\nIf you encounter a lack in the implementation this is either not implemented yet or you found an error.\r\nIn both cases you have the following opportunities\r\n\r\n* fork the repo, fix the problem and raise a pull request so that we can take it over into the master branch of our project\r\n* create an issue on Github\r\n* wait until we came to the same error/lack and fixed it.\r\n\r\nIf you are not familiar with OData request have a look at the above mentioned OData resources.\r\n\r\n### OData restrictions\r\nCurrently we don't support\r\n\r\n* Batch requests. You have to configure your frontend to not using these. In SAPUI5 / OpenUI5 this can be done by setting a\r\nflag\r\n* Atom / XML request. As mentioned above we only support JSON.\r\n\r\n### Logging\r\nWe use [log4js](https://github.com/nomiddlename/log4js-node) for internal logging purposes.\r\nPer default we log to the console and to a file named `n_odata_server.log` that is created in the root directory of your\r\ndevelopment project.\r\nThe default logging configuration is quite verbose. If you don't want to see that much information you can adjust it.\r\nCreate a file named `n_odata_server_log.json` in the root directory of your project and configure your logging preferences.\r\nSee the log4js documentation for more details.\r\nFollowing you see the default configuration that is used if the above mentioned file does not exist.\r\n```\r\n{\r\n\t\"appenders\": [\r\n\t\t{ \"type\": \"console\" },\r\n\t\t{\r\n\t\t\t\"type\": \"file\",\r\n\t\t\t\"filename\": \"n_odata_server.log\",\r\n\t\t\t\"maxLogSize\": 1048576\r\n\t\t}\r\n\t],\r\n\t\"replaceConsole\": true,\r\n\r\n\t\"levels\": {\r\n\t\t\"[all]\": \"TRACE\"\r\n\t}\r\n}\r\n```\r\n\r\n## Documentation\r\nTo read more about the n-odata-server you should have a look at the [wiki](https://github.com/htammen/n-odata-server/wiki) or you can have a\r\nlook at this [presentation](http://prezi.com/dznggtj0zjlo/?utm_campaign=share&utm_medium=copy) for a not very technical overview\r\n\r\n## License\r\nThis project is licensed under the MIT license. See the [LICENSE](LICENSE) file for more info.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}